/* ============================================================
   style.css - 共通スタイル + 活動紹介ページ（about.html）用 拡張
   - GitHub Pages / モバイルファースト
   - 手書き風フォント(Yomogi)は about.html のみ適用
============================================================ */

/* ========== ベース & リセット ========== */
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; }
body {
  background: #f6faf6;
  color: #213321;
  min-height: 100dvh;
  display: flex;
  flex-direction: column;
  line-height: 1.6;
  /* 既定フォント（他ページ用） */
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}

/* --- アクセシビリティ：モーションを抑える設定 --- */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}

/* ========== キーフレーム ========== */
@keyframes fadeScreen { 0%{opacity:0;transform:translateY(18px);} 100%{opacity:1;transform:none;} }
@keyframes slideFade { 0%{opacity:0;transform:translateY(32px);} 100%{opacity:1;transform:none;} }
@keyframes fadeUp    { 0%{opacity:0;transform:translateY(25px);} 100%{opacity:1;transform:none;} }
@keyframes spin { to{ transform: rotate(360deg); } }
.screen { animation: fadeScreen .6s ease-out; }

/* ========== 共通UI ========== */
.btn {
  padding: 1rem 2.6rem;
  border: none;
  border-radius: 9999px;
  font-size: 1.1rem;
  cursor: pointer;
  transition: .25s;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
}
.btn.primary { background:#43a047; color:#fff; }
.btn.secondary { background:#fff; color:#43a047; border:2px solid #43a047; }
.btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,.12); }
.btn:disabled { opacity:.5; pointer-events:none; }

/* SNS */
.social-links { margin-top:auto; padding:1rem; display:flex; justify-content:center; gap:1.2rem; }
.social-links a { color:#43a047; font-size:2rem; text-decoration:none; opacity:.8; transition:.2s; }
.social-links a:hover { opacity:1; transform:translateY(-2px); }

/* ローダー */
#loader{ position:fixed; inset:0; display:flex; flex-direction:column; justify-content:center; align-items:center; background:rgba(255,255,255,.7); backdrop-filter:blur(2px); z-index:999; }
#loader.hidden{ display:none; }
.spinner{ width:56px; height:56px; border:6px solid #a5d6a7; border-top-color:#43a047; border-radius:50%; animation:spin 1.2s linear infinite; }
.load-text{ text-align:center; width:100%; margin-top:.8rem; font-size:.9rem; font-weight:600; color:#555; }

/* ========== ホーム(index) ========== */
.home-bg{ background:url("bg_home.png") center/contain no-repeat fixed; background-color:#f6faf6; }
.home-main{ flex:1; display:flex; flex-direction:column; justify-content:flex-end; align-items:center; }
.btn-group{ display:flex; flex-direction:column; gap:1rem; margin-bottom:8vh; }
.logo{ width:40vmin; max-width:160px; height:auto; margin:4vh auto 2vh; }
.app-name{ font-size:1.8rem; font-weight:600; margin-bottom:6vh; color:#213321; }

/* ========== 質問・結果ページ共通 ========== */
.mini-header{ position:sticky; top:0; width:100%; background:#f6faf6; z-index:1001; padding:1rem 1rem .5rem; }
.title-center{ text-align:center; font-weight:600; margin:0; }
.mini-header .title-center{ font-size:1.2rem; }
@media (min-width:720px){ .mini-header .title-center{ font-size:1.6rem; } }

/* 進捗バー */
#progressWrap{ width:100%; height:4px; background:#e8f5e9; margin-top:.5rem; border-radius:2px; overflow:hidden; }
#progressBar{ height:100%; width:0%; background:#43a047; transition:width .3s; }

/* カード & 選択肢 */
.card{ background:#fff; border-radius:1.5rem; padding:1.5rem; margin:2rem 1rem; box-shadow:0 4px 12px rgba(0,0,0,.1); animation:slideFade 2.2s cubic-bezier(.2,.6,.3,1) both; }
.card.inactive{ opacity:.25; pointer-events:none; filter:blur(1px) grayscale(.4); }
.card:nth-child(1){animation-delay:1s;} .card:nth-child(2){animation-delay:2s;} .card:nth-child(3){animation-delay:3s;} .card:nth-child(n+4){animation-delay:4s;}
.choice{ width:100%; margin:.6rem 0; padding:1rem 1.1rem; border:2px solid #a5d6a7; border-radius:1rem; background:#fff; color:#33691e; font-size:1rem; display:flex; justify-content:space-between; align-items:center; transition:.25s; }
.choice.selected{ background:#dcedc8; border-color:#66bb6a; }
.choice .material-icons{ display:none; }

/* 結果の段階的フェード */
.fade-item{ opacity:0; animation:fadeUp .85s forwards; }

/* ========== スクロール表示（共通アニメーションユーティリティ） ========== */
.reveal{ opacity:0; transform:translateY(24px); transition:opacity .7s ease, transform .7s ease; }
.reveal.show{ opacity:1; transform:none; }
.stagger > *{ opacity:0; transform:translateY(18px); }
.stagger.show > *{ opacity:1; transform:none; transition:opacity .6s ease, transform .6s ease; }

/* ========== 活動紹介ページ（about.html） ========== */
/* 手書き風フォントは about ページ限定で適用（他ページへ影響なし） */
.about-page *{ font-family: 'Yomogi', 'Hiragino Kaku Gothic ProN', 'Yu Gothic', Meiryo, sans-serif; }

/* ヘッダー */
.header{ text-align:center; padding:1.2rem 1rem; background:#e8f5e9; color:#2a7f2a; font-size:1.4rem; font-weight:700; position:sticky; top:0; z-index:20; border-bottom:1px solid #d8ead9; }
.header .sub{ display:block; font-size:.9rem; color:#4b6b4b; margin-top:.25rem; letter-spacing:.02em; }

/* ヒーロー */
.about-hero{ padding:9vh 6vw 5vh; text-align:center; }
.about-title{ font-size:1.6rem; line-height:1.35; margin-bottom:.6rem; color:#213321; }
.about-lead{ max-width:740px; margin:.5rem auto 0; color:#2f3e2f; font-size:1rem; }

/* 画像ブロック */
.a-media{ max-width:min(92vw,680px); margin:1rem auto 0; display:grid; place-items:center; }
.a-media img{
  display:block;
  /* 画面サイズに合わせて縮小。縦に長い画像でも1画面に収まるようにする */
  max-width:100%; /* 横は親幅を超えない */
  width:auto;      /* 必要に応じて横幅を自動で縮小 */
  height:auto;     /* アスペクト比を維持 */
  max-height:56vh; /* モバイル：1画面の56%以内に収める */
  border-radius:16px;
  box-shadow:0 6px 18px rgba(0,0,0,.08);
}
/* ヒーロー直下の画像はやや低めに抑える */
.about-hero .a-media img{ max-height:48vh; }

/* テキストカード */
.about-section{ max-width:880px; margin:0 auto; padding:16px 5vw 44px; }
.a-row{ display:block; }
.a-content{ max-width:720px; margin:.6rem auto; padding:1rem 1rem; background:#fff; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,.06); color:#2f3e2f; text-align:left; }
.a-content p + p{ margin-top:1rem; }

/* キーメッセージ */
.key-message{ background:#f1f8e9; padding:7vh 6vw; text-align:center; }
.key-message .key{ font-size:1.6rem; font-weight:800; color:#2a7f2a; letter-spacing:.04em; line-height:1.5; max-width:760px; margin:0 auto; }

/* フッター（戻るボタン） */
.footer{ text-align:center; padding:4vh 0; }
.footer .btn{ padding:1rem 2rem; }

/* ========== レスポンシブ調整 ========== */
@media (max-width:719.98px){
  .about-title{ font-size:1.35rem; }
  .about-lead{ font-size:.98rem; }
  .key-message .key{ font-size:1.45rem; }
}

@media (min-width:720px){
  .card{ margin:2rem auto; max-width:480px; }
  .choice{ font-size:1.1rem; }
  .about-hero{ padding:10vh 7vw 6vh; }
  .about-title{ font-size:1.9rem; }
  .about-lead{ font-size:1.05rem; }
  .a-media{ max-width:720px; }
  .a-media img{ max-height:60vh; }
  .about-hero .a-media img{ max-height:52vh; }
  .key-message .key{ font-size:2.1rem; }
}

@media (min-width:1024px){
  .about-hero{ padding:12vh 8vw 7vh; }
  .a-media{ max-width:780px; }
  .a-media img{ max-height:65vh; }
  .about-hero .a-media img{ max-height:56vh; }
  .key-message .key{ font-size:2.3rem; }
}
